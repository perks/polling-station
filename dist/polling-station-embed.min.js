/*!
 * polling-station
 * 
 * 
 * @author Chris Evans
 * @version 0.0.1
 * Copyright 2014. MIT licensed.
 */
!function(a,b){"undefined"!=typeof module?module.exports=b():"function"==typeof define&&"object"==typeof define.amd?define(b):this[a]=b()}("domready",function(){var a,b=[],c=document,d="DOMContentLoaded",e=/^loaded|^i|^c/.test(c.readyState);return e||c.addEventListener(d,a=function(){for(c.removeEventListener(d,a),e=1;a=b.shift();)a()}),function(a){e?a():b.push(a)}}),function(){function a(a){return a.replace(/-(.)/g,function(a,b){return b.toUpperCase()})}function b(b){var c;return c=h.dataset?h.dataset[a(b)]:h.getAttribute("data-"+b)}function c(a){var b=document.createElement("link");b.setAttribute("type","text/css"),b.setAttribute("rel","stylesheet"),b.setAttribute("href",a),(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(b)}function d(a,b){var c=document.createElement("script");c.setAttribute("type","text/javascript"),c.setAttribute("src",a),c.readyState?c.onreadystatechange=function(){console.log("x"),("complete"==this.readyState||"loaded"==this.readyState)&&b()}:c.onload=b,(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(c)}function e(){var a=b("url")||"",e=b("base")||"./",g=b("localStorage")||!1,h=e+b("css")||e+"assets/css/default.css",i=e+b("lib")||e+"dist/polling-station-min.js",j=parseInt(b("poll-id"),10)||1;h&&c(h),d(i,f.bind(null,a,g,j,e))}function f(a,b,c,d){domready(function(){var e=new PollingWidget({localStorage:b,url:a,id:c,base:d});e.init()})}var g='<div id="polling-widget" class="polling-widget">             <div class="poll-prompt">What do you think?</div>             <div id="poll-question"></div>             <div id="poll-answers">                 <div class="poll-answer" data-id="1">                     <img/>                     <span class="poll-answer-text"></span>                 </div>                 <div class="poll-answer" data-id="2">                     <img src="" alt="">                     <span class="poll-answer-text"></span>                 </div>             </div>             <div id="poll-results">                 <ul>                     <li class="poll-result" data-id="1">                         <div class="poll-result-text"></div>                         <div class="bar">                             <div class="graph"></div>                             <div class="poll-result-caption"></div>                         </div>                     </li>                     <li class="poll-result" data-id="2">                         <div class="poll-result-text"></div>                          <div class="bar">                             <div class="graph"></div>                             <div class="poll-result-caption"></div>                         </div>                     </li>                 </ul>             </div>             <div class="poll-bottom"></div>         </div>',h=document.getElementById("polling-station-script"),i=(h.parentNode,document.head||document.getElementsByTagName("head")[0],Object.prototype.hasOwnProperty,document.createElement("div"));i.id="polling-station",i.innerHTML=g,h.parentNode.insertBefore(i,h),e()}();