<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Polling widget test</title>
    <link href="./css/polling.css" rel="stylesheet">
</head>

<body>
    <h1>Polling Widget test</h1>

    <section id="polling-container">
        <div id="polling-widget" class="polling-widget">
        </div>
    </section>

    <script id="poll-template" type="text/x-handlebars/template">

        <h1>This is a answerS single poll view:::</h1>
        <h2>{{ question }}</h2>
        <div id="poll-answers" class="poll-answers">
            {{#each answers}}
                <div class="poll-answer" data-id={{@index}}>{{ value }}</div>
            {{/each}}
        </div>

    <h1>This is a RESULTS single poll view:</h1>
    <h2>Results</h2>
    <div class="poll-results">
        {{#each answers}}
            <div class="poll-result" data-id={{@index}}> {{value}} : {{ count }} which is {{ percent }} percent </div>
        {{/each}}
    </div>


    </script>


    <script src="http://cdnjs.cloudflare.com/ajax/libs/handlebars.js/1.3.0/handlebars.js"></script>
    <script src="../polling-station.js"></script>

    <script type="text/javascript">
    //Example use//
    var p = {
        "id": 1,
        "question": "I always wondered, have you ever answerd a question?",
        "answers": [{
            "id": 1,
            "value": "Yes",
            "count": 10,
            "percent": 0
        }, {
            "id": 2,
            "value": "No",
            "count": 20,
            "percent": 0
        }],
        "total": 0
    }
    var myCustomTemplateFunc = Handlebars.compile(document.getElementById('poll-template').innerHTML);
    var myPoll = new PollingWidget({
        poll: p,
        template: myCustomTemplateFunc
    });

    myPoll.init();
    </script>

</body>

</html>
